# ─── Nanahoshi v2 — Environment Variables ─────────────────────────
# Copy this file to .env and fill in the values.
# Used by: docker compose up (production) and bun run dev (development)

# ─── General ─────────────────────────────────────────────────────
DATABASE_URL=postgresql://postgres:password@localhost:5432/nanahoshi-v2
CORS_ORIGIN=http://localhost:3001
ENVIRONMENT=development
SERVER_URL=http://localhost:3000
NANAHOSHI_DATA_PATH=./data

# Stable UUID namespace for generating deterministic book IDs
# Generate with: uuidgen
NAMESPACE_UUID=00000000-0000-0000-0000-000000000000
# Secret for signing download URLs
# Generate with: uuidgen
DOWNLOAD_SECRET=00000000-0000-0000-0000-000000000000

# ─── Auth ────────────────────────────────────────────────────────
# Generate with: openssl rand -hex 32
BETTER_AUTH_SECRET=change-me-to-a-random-string-at-least-32-chars
BETTER_AUTH_URL=http://localhost:3000

# Discord OAuth (optional)
# DISCORD_CLIENT_ID=
# DISCORD_CLIENT_SECRET=

# ─── Web (build-time) ───────────────────────────────────────────
# URL the browser uses to reach the server API
VITE_SERVER_URL=http://localhost:3000

# ─── SMTP (email) ───────────────────────────────────────────────
SMTP_HOST=smtp.gmail.com
SMTP_PORT=465
SMTP_SECURE=true
SMTP_USER=you@gmail.com
SMTP_PASS=your-app-password

# ─── Elasticsearch ──────────────────────────────────────────────
ELASTICSEARCH_NODE=http://127.0.0.1:9200
ELASTICSEARCH_INDEX_PREFIX=nanahoshi

# ─── Redis ──────────────────────────────────────────────────────
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=change-me

# ─── Docker Compose only (production) ───────────────────────────
# Password for the postgres container (must match DATABASE_URL)
# POSTGRES_PASSWORD=password
# SERVER_PORT=3000
# WEB_PORT=3001
